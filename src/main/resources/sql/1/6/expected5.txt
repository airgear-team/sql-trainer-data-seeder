select name, city, datediff(date_last, date_first)+1 as 'Длительность'
from trip
where city != 'Москва' and city != 'Санкт-Петербург'
order by Длительность desc