<div class="container">
    <h2>Вибірка даних із обчисленнями, групові функції</h2>

    <p>У SQL як аргумент для групових функцій можна використовувати не лише назву стовпця, а й будь-який допустимий
        арифметичний вираз.</p>

    <p><strong>Приклад</strong></p>
    <p>Вивести загальну вартість книг кожного автора.</p>

    <p class="skewed">Запит:</p>
    <pre class="sqlCodeBlock">SELECT author, SUM(price * amount) AS Стоимость
FROM book
GROUP BY author;</pre>

    <p class="skewed">Результат:</p>
    <pre class="sqlResultTable">+------------------+-----------+
| author           | Стоимость |
+------------------+-----------+
| Булгаков М.А.    | 4715.47   |
| Достоевский Ф.М. | 11802.03  |
| Есенин С.А.      | 9750.00   |
+------------------+-----------+</pre>

    <p>Групові функції можна використовувати у виразах. Наприклад, якщо при обчисленні середньої вартості книг кожного
        автора отримаємо значення з шістьма знаками після коми, а оскільки це гроші, слід округлити до 2 знаків після
        коми.</p>

    <p><strong>Приклад</strong></p>
    <p>Знайти середню ціну книг кожного автора.</p>

    <p class="skewed">Запит:</p>
    <pre class="sqlCodeBlock">SELECT author, ROUND(AVG(price), 2) AS Средняя_цена
FROM book
GROUP BY author;</pre>

    <p class="skewed">Результат:</p>
    <pre class="sqlResultTable">+------------------+--------------+
| author           | Средняя_цена |
+------------------+--------------+
| Булгаков М.А.    | 605.75       |
| Достоевский Ф.М. | 579.84       |
| Есенин С.А.      | 650.00       |
+------------------+--------------+</pre>

    <h2>Завдання</h2>
    <p>Для кожного автора обчислити загальну вартість книг <code>S</code> (назвати стовпець <code>Стоимость</code>), а
        також розрахувати податок на додану вартість (назвати стовпець <code>НДС</code>), який включений у вартість і
        становить 18% (k = 18), а також вартість книг без ПДВ (назвати стовпець <code>Стоимость_без_НДС</code>).
        Значення округлити до двох знаків після коми.</p>

    <p>Формули:</p>
    <div data-img-id="1.3.4.1"></div>


    <p></p>


    <div id="toggle2" style="cursor: pointer;">
        <div>
            <span class="arrow-text"><strong>Результат</strong></span>
        </div>
    </div>

    <div id="hiddenText2" style="display:none;">
        <pre class="sqlResultTable">+------------------+-----------+---------+-------------------+
| author           | Стоимость | НДС     | Стоимость_без_НДС |
+------------------+-----------+---------+-------------------+
| Булгаков М.А.    | 4715.47   | 719.31  | 3996.16           |
| Достоевский Ф.М. | 11802.03  | 1800.31 | 10001.72          |
| Есенин С.А.      | 9750.00   | 1487.29 | 8262.71           |
+------------------+-----------+---------+-------------------+</pre>

    </div>


    <p></p>

    <div id="toggle3" style="cursor: pointer;">
        <div>
            <span class="arrow-text"><strong>Пояснення</strong></span>
        </div>
    </div>

    <div id="hiddenText3" style="display:none;">
        <p>Імена стовпців, задані через <code>AS</code>, не можна використовувати в інших виразах у тому ж запиті —
            використовуйте назви стовпців з оригінальної таблиці.</p>

    </div>



    <p></p>

    <div id="toggle4" style="cursor: pointer;">
        <div>
            <span class="arrow-text"><strong>Структура та наповнення таблиці <code>book</code></strong></span>
        </div>
    </div>

    <div id="hiddenText4" style="display:none;">
        <pre class="sqlResultTable">+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
| 1       | Мастер и Маргарита    | Булгаков М.А.    | 670.99 | 3      |
| 2       | Белая гвардия         | Булгаков М.А.    | 540.50 | 5      |
| 3       | Идиот                 | Достоевский Ф.М. | 460.00 | 10     |
| 4       | Братья Карамазовы     | Достоевский Ф.М. | 799.01 | 3      |
| 5       | Игрок                 | Достоевский Ф.М. | 480.50 | 10     |
| 6       | Стихотворения и поэмы | Есенин С.А.      | 650.00 | 15     |
+---------+-----------------------+------------------+--------+--------+</pre>

    </div>
</div>