<div class="container">
  <h2>Додавання записів з іншої таблиці</h2>

  <p>
    За допомогою запиту на додавання можна не лише додати до таблиці конкретні значення (через список
    <code>VALUES</code>), а й записи з іншої таблиці, відібрані за допомогою запиту <code>SELECT</code>.
    У такому випадку замість блоку <code>VALUES</code> записується запит вибірки, який починається зі
    <code>SELECT</code>. У ньому можна використовувати <code>WHERE</code>, <code>GROUP BY</code>, <code>ORDER BY</code>.
  </p>

  <p><strong>Правила відповідності між полями таблиці та значеннями, що вставляються із запиту:</strong></p>
  <ul>
    <li>Кількість полів у таблиці та кількість полів у запиті має збігатися.</li>
    <li>Повинна існувати пряма відповідність позицій: перший стовпець запиту — першому стовпцю таблиці, другий — другому
      і т. д.</li>
    <li>SQL намагається перетворити тип даних значень під тип поля: наприклад, рядок <code>'1'</code> у числовому полі
      стане числом <code>1</code>; але <code>'ab'</code> у числовому полі викличе помилку.</li>
    <li>Рекомендується, щоб типи значень у запиті були сумісні з типами полів таблиці.</li>
    <li>Не рекомендується додавати значення у поле <code>PRIMARY KEY AUTO_INCREMENT</code>.</li>
    <li>Рекомендується заповнювати всі поля. Якщо деяке поле пропущене — буде встановлено значення за замовчуванням або
      <code>NULL</code>.
    </li>
  </ul>

  <h3>Приклад</h3>
  <p>Додати всі книги з таблиці <code>supply</code> у таблицю <code>book</code>.</p>

  <p class="skewed">Запит:</p>
  <pre class="sqlCodeBlock">INSERT INTO book (title, author, price, amount)
SELECT title, author, price, amount 
FROM supply;

SELECT * FROM book;</pre>

  <p class="skewed">Результат:</p>
  <pre class="sqlResultTable">+---------+----------------------+----------------------+--------+--------+
| book_id | title                | author               | price  | amount |
+---------+----------------------+----------------------+--------+--------+
| 1       | Тіні забутих предків | Коцюбинський М.М.    | 670.99 | 3      |
| 2       | Intermezzo           | Коцюбинський М.М.    | 540.5  | 5      |
| 3       | Кайдашева сім’я      | Нечуй-Левицький І.С. | 460    | 10     |
| 4       | Хмари                | Нечуй-Левицький І.С. | 799.01 | 2      |
| 5       | Земля                | Кобилянська О.Ю.     | 650    | 15     |
| 6       | Кобзар               | Шевченко Т.Г.        | 518.99 | 2      |
| 7       | Мої лілії            | Кобилянська О.Ю.     | 570.2  | 6      |
| 8       | Intermezzo           | Коцюбинський М.М.    | 540.5  | 7      |
| 9       | Кайдашева сім’я      | Нечуй-Левицький І.С. | 360.8  | 3      |
+---------+----------------------+----------------------+--------+--------+</pre>

  <p>
    За допомогою цього запиту в таблицю <code>book</code> були додані всі книги з таблиці <code>supply</code>, включно з
    тими, які вже були (наприклад, «Белая гвардия» та «Идиот»). У результаті одна й та сама книга може мати різні
    <code>book_id</code>.
    Це небажана ситуація для реляційної моделі. Уникнути її можна за допомогою вкладених запитів, які розглядатимуться
    пізніше.
  </p>

  <h3>Завдання</h3>
  <p>Додати з таблиці <code>supply</code> у таблицю <code>book</code> всі книги, крім книг, написаних Коцюбинський М.М. Нечуй-Левицький І.С.</p>


  <div id="toggle1" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Результат</strong></span>
    </div>
  </div>

  <div id="hiddenText1" style="display:none;">
    <pre class="sqlResultTable">+---------+----------------------+----------------------+--------+--------+
| book_id | title                | author               | price  | amount |
+---------+----------------------+----------------------+--------+--------+
| 1       | Тіні забутих предків | Коцюбинський М.М.    | 670.99 | 3      |
| 2       | Intermezzo           | Коцюбинський М.М.    | 540.5  | 5      |
| 3       | Кайдашева сім’я      | Нечуй-Левицький І.С. | 460    | 10     |
| 4       | Хмари                | Нечуй-Левицький І.С. | 799.01 | 2      |
| 5       | Земля                | Кобилянська О.Ю.     | 650    | 15     |
| 6       | Кобзар               | Шевченко Т.Г.        | 518.99 | 2      |
| 7       | Мої лілії            | Кобилянська О.Ю.     | 570.2  | 6      |
+---------+----------------------+----------------------+--------+--------+</pre>
  </div>


  <p></p>


  <div id="toggle2" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Пояснення</strong></span>
    </div>
  </div>

  <div id="hiddenText2" style="display:none;">
    <p>Завдання потрібно виконати без використання вкладених запитів.</p>
  </div>

  <p></p>

  <div id="toggle3" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Структура та наповнення таблиць <code>book</code> і
          <code>supply</code></strong></span>
    </div>
  </div>

  <div id="hiddenText3" style="display:none;">
    <pre class="sqlResultTable">+---------+----------------------+----------------------+--------+--------+
| book_id | title                | author               | price  | amount |
+---------+----------------------+----------------------+--------+--------+
| 1       | Тіні забутих предків | Коцюбинський М.М.    | 670.99 | 3      |
| 2       | Intermezzo           | Коцюбинський М.М.    | 540.5  | 5      |
| 3       | Кайдашева сім’я      | Нечуй-Левицький І.С. | 460    | 10     |
| 4       | Хмари                | Нечуй-Левицький І.С. | 799.01 | 2      |
| 5       | Земля                | Кобилянська О.Ю.     | 650    | 15     |
+---------+----------------------+----------------------+--------+--------+</pre>

    <pre class="sqlResultTable">+-----------+-----------------+----------------------+--------+--------+
| supply_id | title           | author               | price  | amount |
+-----------+-----------------+----------------------+--------+--------+
| 1         | Кобзар          | Шевченко Т.Г.        | 518.99 | 2      |
| 2         | Мої лілії       | Кобилянська О.Ю.     | 570.2  | 6      |
| 3         | Intermezzo      | Коцюбинський М.М.    | 540.5  | 7      |
| 4         | Кайдашева сім’я | Нечуй-Левицький І.С. | 360.8  | 3      |
+-----------+-----------------+----------------------+--------+--------+</pre>
  </div>

</div>