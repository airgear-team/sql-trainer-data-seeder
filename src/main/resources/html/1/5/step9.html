<div class="container">
  <h2>Створення таблиці на основі іншої</h2>

  <p>
    Нову таблицю можна створити на основі даних з іншої таблиці. Для цього використовується запит <code>SELECT</code>,
    результат якого і стане новою таблицею. Імена стовпців у запиті стають іменами стовпців нової таблиці.
  </p>

  <p>
    Синтаксис запиту:
  </p>
  <pre class="sqlCodeBlock">CREATE TABLE імʼя_таблиці AS
SELECT ...</pre>

  <h3>Приклад</h3>
  <p>Створити таблицю <code>ordering</code>, куди включити авторів і назви тих книг, кількість яких у таблиці
    <code>book</code> менше 4. Для всіх книг вказати кількість 5.
  </p>

  <p class="skewed">Запит:</p>
  <pre class="sqlCodeBlock">CREATE TABLE ordering AS
SELECT author, title, 5 AS amount
FROM book
WHERE amount &lt; 4;

SELECT * FROM ordering;</pre>

  <p class="skewed">Результат:</p>
  <pre class="sqlResultTable">+----------------------+----------------------+--------+
| author               | title                | amount |
+----------------------+----------------------+--------+
| Коцюбинський М.М.    | Тіні забутих предків | 5      |
| Нечуй-Левицький І.С. | Хмари                | 5      |
+----------------------+----------------------+--------+</pre>

  <p>Під час створення таблиці можна використовувати вкладені запити як після <code>SELECT</code>, так і після
    <code>WHERE</code>.</p>

  <h3>Приклад із вкладеним запитом</h3>
  <p>
    Створити таблицю <code>ordering</code>, куди включити авторів і назви тих книг, кількість яких менше 4, а також для
    всіх вказати середню кількість книг у таблиці <code>book</code>.
  </p>

  <p class="skewed">Запит:</p>
  <pre class="sqlCodeBlock">CREATE TABLE ordering AS
SELECT author, title, 
   (
    SELECT ROUND(AVG(amount)) 
    FROM book
   ) AS amount
FROM book
WHERE amount &lt; 4;

SELECT * FROM ordering;</pre>

  <p class="skewed">Результат:</p>
  <pre class="sqlResultTable">+----------------------+----------------------+--------+
| author               | title                | amount |
+----------------------+----------------------+--------+
| Коцюбинський М.М.    | Тіні забутих предків | 7      |
| Нечуй-Левицький І.С. | Хмари                | 7      |
+----------------------+----------------------+--------+</pre>

  <h3>Завдання</h3>
  <p>
    Створити таблицю <code>ordering</code>, куди включити авторів і назви книг, кількість яких менше середньої кількості
    у таблиці <code>book</code>. Для всіх книг вказати одне значення — середню кількість.
  </p>

  <div id="toggle1" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Результат</strong></span>
    </div>
  </div>

  <div id="hiddenText1" style="display:none;">
    <pre class="sqlResultTable">+----------------------+----------------------+--------+
| author               | title                | amount |
+----------------------+----------------------+--------+
| Коцюбинський М.М.    | Тіні забутих предків | 7      |
| Коцюбинський М.М.    | Intermezzo           | 7      |
| Нечуй-Левицький І.С. | Хмари                | 7      |
+----------------------+----------------------+--------+</pre>
  </div>

  <p></p>

  <div id="toggle2" style="cursor: pointer;">
    <div><span class="arrow-text"><strong>Структура та вміст таблиці <code>book</code></strong></span></div>
  </div>

  <div id="hiddenText2" style="display:none;">
    <pre class="sqlResultTable">+---------+----------------------+----------------------+--------+--------+
| book_id | title                | author               | price  | amount |
+---------+----------------------+----------------------+--------+--------+
| 1       | Тіні забутих предків | Коцюбинський М.М.    | 670.99 | 3      |
| 2       | Intermezzo           | Коцюбинський М.М.    | 540.5  | 5      |
| 3       | Кайдашева сім’я      | Нечуй-Левицький І.С. | 460    | 10     |
| 4       | Хмари                | Нечуй-Левицький І.С. | 799.01 | 2      |
| 5       | Земля                | Кобилянська О.Ю.     | 650    | 15     |
+---------+----------------------+----------------------+--------+--------+</pre>
  </div>
</div>
