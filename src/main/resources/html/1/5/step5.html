<div class="container">
  <h2>Запити на оновлення</h2>

  <p>
    Під оновленням даних мається на увазі зміна значень у вже наявних записах таблиці. Це може бути як оновлення значень
    полів у кількох рядках (або навіть у всіх), так і зміна одного конкретного поля в одному рядку.
  </p>

  <p>
    Зміна записів у таблиці здійснюється за допомогою запиту <code>UPDATE</code>. Найпростіший запит оновлення має
    вигляд:
  </p>

  <pre class="sqlCodeBlock">UPDATE таблиця
SET поле = вираз</pre>

  <p>де:</p>
  <ul>
    <li><strong>таблиця</strong> — назва таблиці, в якій потрібно зробити зміни;</li>
    <li><strong>поле</strong> — поле, що буде оновлене;</li>
    <li><strong>вираз</strong> — значення або обчислення, яке буде вставлено у вказане поле.</li>
  </ul>

  <h3>Приклад</h3>
  <p>Зменшити на 30% ціну всіх книг у таблиці <code>book</code>.</p>

  <p class="skewed">Запит:</p>
  <pre class="sqlCodeBlock">UPDATE book
SET price = 0.7 * price;

SELECT * FROM book;</pre>

  <p class="skewed">Результат:</p>
  <pre class="sqlResultTable">Affected rows: 5
Query result:
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
| 1       | Мастер и Маргарита    | Булгаков М.А.    | 469.69 | 3      |
| 2       | Белая гвардия         | Булгаков М.А.    | 378.35 | 5      |
| 3       | Идиот                 | Достоевский Ф.М. | 322.00 | 10     |
| 4       | Братья Карамазовы     | Достоевский Ф.М. | 559.31 | 2      |
| 5       | Стихотворения и поэмы | Есенин С.А.      | 455.00 | 15     |
+---------+-----------------------+------------------+--------+--------+</pre>

  <p>
    За допомогою запитів <code>UPDATE</code> можна змінювати не всі записи таблиці, а лише частину. Для цього до запиту
    додається ключове слово <code>WHERE</code> з умовою відбору рядків для оновлення.
  </p>

  <h3>Приклад</h3>
  <p>Зменшити на 30% ціну тих книг, у яких кількість менша за 5.</p>

  <p class="skewed">Запит:</p>
  <pre class="sqlCodeBlock">UPDATE book
SET price = 0.7 * price 
WHERE amount < 5;

SELECT * FROM book;</pre>

  <p class="skewed">Результат:</p>
  <pre class="sqlResultTable">Affected rows: 2
Query result:
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
| 1       | Мастер и Маргарита    | Булгаков М.А.    | 469.69 | 3      |
| 2       | Белая гвардия         | Булгаков М.А.    | 540.50 | 5      |
| 3       | Идиот                 | Достоевский Ф.М. | 460.00 | 10     |
| 4       | Братья Карамазовы     | Достоевский Ф.М. | 559.31 | 2      |
| 5       | Стихотворения и поэмы | Есенин С.А.      | 650.00 | 15     |
+---------+-----------------------+------------------+--------+--------+</pre>

  <p>У цьому запиті оновлено лише 2 записи — для книг «Мастер и Маргарита» та «Братья Карамазовы».</p>

  <h3>Завдання</h3>
  <p>Зменшити на 10% ціну тих книг у таблиці <code>book</code>, кількість яких знаходиться в інтервалі від 5 до 10
    включно.</p>

  <div id="toggle1" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Результат</strong></span>
    </div>
  </div>

  <div id="hiddenText1" style="display:none;">
    <pre class="sqlResultTable">Affected rows: 2
Query result:
+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
| 1       | Мастер и Маргарита    | Булгаков М.А.    | 670.99 | 3      |
| 2       | Белая гвардия         | Булгаков М.А.    | 486.45 | 5      |
| 3       | Идиот                 | Достоевский Ф.М. | 414.00 | 10     |
| 4       | Братья Карамазовы     | Достоевский Ф.М. | 799.01 | 2      |
| 5       | Стихотворения и поэмы | Есенин С.А.      | 650.00 | 15     |
+---------+-----------------------+------------------+--------+--------+</pre>
  </div>

  <p></p>


  <div id="toggle2" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Пояснення</strong></span>
    </div>
  </div>

  <div id="hiddenText2" style="display:none;">
    <p>Оновлення торкнулось лише книг з кількістю від 5 до 10 включно: «Белая гвардия» (5) і «Идиот» (10). Їх ціна
      зменшена на 10%.</p>
  </div>

  <p></p>

  <div id="toggle3" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Структура та наповнення таблиці <code>book</code></strong></span>
    </div>
  </div>

  <div id="hiddenText3" style="display:none;">
    <pre class="sqlResultTable">+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
| 1       | Мастер и Маргарита    | Булгаков М.А.    | 670.99 | 3      |
| 2       | Белая гвардия         | Булгаков М.А.    | 540.50 | 5      |
| 3       | Идиот                 | Достоевский Ф.М. | 460.00 | 10     |
| 4       | Братья Карамазовы     | Достоевский Ф.М. | 799.01 | 2      |
| 5       | Стихотворения и поэмы | Есенин С.А.      | 650.00 | 15     |
+---------+-----------------------+------------------+--------+--------+</pre>
  </div>
</div>