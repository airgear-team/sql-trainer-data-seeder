<div class="container">

    <h2>Зміст уроку</h2>

    <p>SQL дозволяє створювати вкладені запити. Вкладений запит (підзапит, внутрішній запит) – це запит всередині іншого SQL-запиту.</p>

    <p>Вкладений запит використовується для вибірки даних, які будуть застосовані в умові відбору записів основного запиту. Його застосовують для:</p>

    <ul style="list-style-type: disc;">
        <li>порівняння виразу з результатом вкладеного запиту;</li>
        <li>визначення того, чи входить вираз у результати вкладеного запиту;</li>
        <li>перевірки, чи вибирає запит певні рядки.</li>
    </ul>

    <p>Вкладений запит має такі компоненти:</p>
    <ul style="list-style-type: disc;">
        <li>ключове слово <code>SELECT</code>, після якого вказуються імена стовпців або вирази (найчастіше список містить один елемент);</li>
        <li>ключове слово <code>FROM</code> та ім’я таблиці, з якої вибираються дані;</li>
        <li>необов’язкове речення <code>WHERE</code>;</li>
        <li>необов’язкове речення <code>GROUP BY</code>;</li>
        <li>необов’язкове речення <code>HAVING</code>.</li>
    </ul>

    <p>Вкладені запити можуть включатися в <code>WHERE</code> або <code>HAVING</code> так (у квадратних дужках зазначені необов’язкові елементи, через | – один з елементів):</p>

    <ul style="list-style-type: disc;">
        <li><code>WHERE | HAVING вираз оператор_порівняння (вкладений запит);</code></li>
        <li><code>WHERE | HAVING вираз, що містить вкладений запит;</code></li>
        <li><code>WHERE | HAVING вираз [NOT] IN (вкладений запит);</code></li>
        <li><code>WHERE | HAVING вираз оператор_порівняння ANY | ALL (вкладений запит);</code></li>
    </ul>

    <p>Також вкладені запити можуть вставлятися в основний запит після ключового слова <code>SELECT</code>.</p>

    <h2>Структура і наповнення таблиці</h2>

    <p>Усі запити в цьому уроці будуть формулюватися для таблиці <code>book</code> (створення, заповнення):</p>

    <table class="tableSql">
        <thead>
        <tr>
            <th>book_id</th>
            <th>title</th>
            <th>author</th>
            <th>price</th>
            <th>amount</th>
        </tr>
        </thead>
        <thead>
        <tr>
            <th>INT PRIMARY KEY AUTO_INCREMENT</th>
            <th>VARCHAR(50)</th>
            <th>VARCHAR(30)</th>
            <th>DECIMAL(8,2)</th>
            <th>INT</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1</td>
            <td>Майстер і Маргарита</td>
            <td>Булгаков М.А.</td>
            <td>670.99</td>
            <td>3</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Біла гвардія</td>
            <td>Булгаков М.А.</td>
            <td>540.50</td>
            <td>5</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Ідіот</td>
            <td>Достоєвський Ф.М.</td>
            <td>460.00</td>
            <td>10</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Брати Карамазови</td>
            <td>Достоєвський Ф.М.</td>
            <td>799.01</td>
            <td>3</td>
        </tr>
        <tr>
            <td>5</td>
            <td>Гравець</td>
            <td>Достоєвський Ф.М.</td>
            <td>480.50</td>
            <td>10</td>
        </tr>
        <tr>
            <td>6</td>
            <td>Вірші та поеми</td>
            <td>Єсенін С.А.</td>
            <td>650.00</td>
            <td>15</td>
        </tr>
        </tbody>
    </table>

</div>