<div class="container">
  <h2>Використання вкладеного запиту у виразі</h2>

  <p>
    Вкладений запит, що повертає одне значення, може використовуватись у виразах як звичайний операнд, наприклад, до нього можна щось додати, відняти тощо.
  </p>

  <p><strong>Приклад</strong></p>

  <p>
    Вивести інформацію про книги, кількість примірників яких відрізняється від середньої кількості примірників книг на складі більш ніж на 3. Тобто потрібно вивести ті книги, кількість яких менша за середню на 3 або більша за середню на 3.
  </p>

  <p class="skewed">Запит:</p>

  <pre class="sqlCodeBlock">SELECT title, author, amount
FROM book
WHERE ABS(amount - (SELECT AVG(amount) FROM book)) > 3;</pre>

  <p class="skewed">Результат:</p>

  <pre class="sqlResultTable">+-----------------------+------------------+--------+
| title                 | author           | amount |
+-----------------------+------------------+--------+
| Мастер и Маргарита    | Булгаков М.А.    | 3      |
| Братья Карамазовы     | Достоевский Ф.М. | 3      |
| Стихотворения и поэмы | Есенин С.А.      | 15     |
+-----------------------+------------------+--------+</pre>

  <h3>Завдання</h3>

  <p>
    Вивести інформацію (автора, назву та ціну) про ті книги, ціни яких перевищують мінімальну ціну книги на складі не більш ніж на 150 рублів. Вивести результат у порядку зростання ціни.
  </p>


  <div id="toggle2" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Результат</strong></span>
    </div>
  </div>

  <div id="hiddenText2" style="display:none;">
    <pre class="sqlResultTable">+------------------+----------------+--------+
| author           | title          | price  |
+------------------+----------------+--------+
| Достоевский Ф.М. | Идиот          | 460.00 |
| Достоевский Ф.М. | Игрок          | 480.50 |
| Булгаков М.А.    | Белая гвардия  | 540.50 |
| Пушкин А.С.      | Евгений Онегин | 610.00 |
+------------------+----------------+--------+</pre>

  </div>

  <p></p>
  <div id="toggle4" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Структура та наповнення таблиці <code>book</code></strong></span>
    </div>
  </div>

  <div id="hiddenText4" style="display:none;">
    <pre class="sqlResultTable">+---------+-----------------------+------------------+--------+--------+
| book_id | title                 | author           | price  | amount |
+---------+-----------------------+------------------+--------+--------+
| 1       | Мастер и Маргарита    | Булгаков М.А.    | 670.99 | 3      |
| 2       | Белая гвардия         | Булгаков М.А.    | 540.50 | 5      |
| 3       | Идиот                 | Достоевский Ф.М. | 460.00 | 10     |
| 4       | Братья Карамазовы     | Достоевский Ф.М. | 799.01 | 3      |
| 5       | Игрок                 | Достоевский Ф.М. | 480.50 | 10     |
| 6       | Стихотворения и поэмы | Есенин С.А.      | 650.00 | 15     |
+---------+-----------------------+------------------+--------+--------+</pre>
  </div>
</div>