<div class="container">
  <h2>Вкладений запит, що повертає одне значення</h2>

  <p>
    Вкладений запит, що повертає одне значення, може використовуватись в умові відбору записів <code>WHERE</code> як
    звичайне значення разом з операціями <code>=</code>, <code>&lt;&gt;</code>, <code>&gt;=</code>, <code>&lt;=</code>,
    <code>&gt;</code>, <code>&lt;</code>.
  </p>

  <p><strong>Приклад</strong></p>

  <p>
    Вивести інформацію про найдешевші книги, що зберігаються на складі.
  </p>

  <p>
    Для реалізації цього запиту нам потрібно отримати мінімальну ціну зі стовпця <code>price</code> таблиці
    <code>book</code>, а потім вивести інформацію про ті книги, ціна яких дорівнює мінімальній. Перша частина — пошук
    мінімуму — реалізується вкладеним запитом.
  </p>

  <p class="skewed">Запит:</p>

  <pre class="sqlCodeBlock">SELECT title, author, price, amount
FROM book
WHERE price = (
         SELECT MIN(price) 
         FROM book
      );</pre>

  <p class="skewed">Результат:</p>

  <pre class="sqlResultTable">Affected rows: 1
+-----------------+----------------------+-------+--------+
| title           | author               | price | amount |
+-----------------+----------------------+-------+--------+
| Кайдашева сім’я | Нечуй-Левицький І.С. | 460   | 10     |
+-----------------+----------------------+-------+--------+</pre>

  <p>
    Вкладений запит визначає мінімальну ціну книг у всій таблиці (це 460.00), а потім в основному запиті для кожного
    запису перевіряється, чи дорівнює ціна мінімальному значенню. Якщо дорівнює — інформація про книгу включається до
    результуючої таблиці запиту.
  </p>

  <p class="skewed"><strong>Рекомендація</strong></p>
  <p>
    При використанні вкладеного запиту рекомендується спочатку перевірити, чи правильно він працює. Якщо виводиться правильний результат — використовуйте код як
    вкладений запит.
  </p>

  <h3>Завдання</h3>

  <p>
    Вивести інформацію (<strong>автора</strong>, <strong>назву</strong> та <strong>ціну</strong>) про книги, ціни яких
    менші або дорівнюють середній ціні книг на складі. Інформацію вивести у відсортованому за спаданням ціни вигляді.
    Середнє обчислити як середнє значення ціни книги.
  </p>

  <div id="toggle2" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Результат</strong></span>
    </div>
  </div>

  <div id="hiddenText2" style="display:none;">
    <pre class="sqlResultTable">Affected rows: 3
+----------------------+-----------------+-------+
| author               | title           | price |
+----------------------+-----------------+-------+
| Коцюбинський М.М.    | Intermezzo      | 540.5 |
| Петренко П.П.        | Нове життя      | 480.5 |
| Нечуй-Левицький І.С. | Кайдашева сім’я | 460   |
+----------------------+-----------------+-------+</pre>

  </div>

  <p></p>

  <div id="toggle4" style="cursor: pointer;">
    <div>
      <span class="arrow-text"><strong>Структура та наповнення таблиці <code>book</code></strong></span>
    </div>
  </div>

  <div id="hiddenText4" style="display:none;">
    <pre class="sqlResultTable">+---------+----------------------+----------------------+--------+--------+
| book_id | title                | author               | amount | price  |
+---------+----------------------+----------------------+--------+--------+
| 1       | Тіні забутих предків | Коцюбинський М.М.    | 3      | 670.99 |
| 2       | Intermezzo           | Коцюбинський М.М.    | 5      | 540.5  |
| 3       | Кайдашева сім’я      | Нечуй-Левицький І.С. | 10     | 460    |
| 4       | Хмари                | Нечуй-Левицький І.С. | 2      | 799.01 |
| 5       | Земля                | Кобилянська О.Ю.     | 15     | 650    |
| 6       | Нове життя           | Петренко П.П.        | 10     | 480.5  |
+---------+----------------------+----------------------+--------+--------+</pre>

  </div>
</div>